<nav
  class="bg-gray-100/85 dark:bg-gray-900/95 border-b border-gray-200 dark:border-gray-800 fixed top-0 inset-x-0 z-30 backdrop-blur-sm"
  role="navigation"
  aria-label="Main navigation"
>
  <div class="max-w-screen-2xl mx-auto px-4 py-3 flex items-center gap-4">
    <!-- LEFT: Logo + Socials -->
    <div class="flex items-center gap-4">
      <a routerLink="/home" class="flex items-center">
        <img
          src="/images/freshcart-logo.svg"
          alt="FreshCart Logo"
          class="h-8 w-auto"
        />
      </a>

      <!-- Social icons (visible on md+, in mobile inside dropdown) -->
      <div
        class="hidden md:flex items-center gap-2 text-gray-600 dark:text-gray-300"
      >
        <a
          href="https://facebook.com"
          target="_blank"
          rel="noopener noreferrer"
          class="p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"
          aria-label="Facebook"
        >
          <i class="fab fa-facebook text-lg" aria-hidden="true"></i>
        </a>
        <a
          href="https://twitter.com"
          target="_blank"
          rel="noopener noreferrer"
          class="p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"
          aria-label="X / Twitter"
        >
          <i class="fab fa-x-twitter text-lg" aria-hidden="true"></i>
        </a>
        <a
          href="https://tiktok.com"
          target="_blank"
          rel="noopener noreferrer"
          class="p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"
          aria-label="TikTok"
        >
          <i class="fab fa-tiktok text-lg" aria-hidden="true"></i>
        </a>
      </div>
    </div>

    <!-- MOBILE: burger button (visible on small screens) -->
    <div class="md:hidden ml-auto">
      <button
        data-collapse-toggle="navbar-dropdown"
        type="button"
        class="inline-flex items-center p-2 w-10 h-10 justify-center text-gray-600 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"
        aria-controls="navbar-dropdown"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <svg
          class="w-5 h-5"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 17 14"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M1 1h15M1 7h15M1 13h15"
          />
        </svg>
      </button>
    </div>

    <!-- CENTER + RIGHT (desktop view) -->
    <div class="hidden md:flex flex-1 items-center justify-between">
      <!-- CENTER navigation -->
      @if (isLogin()) {
      <ul class="flex items-center gap-6 mx-auto font-medium capitalize">
        <li>
          <a
            routerLink="/home"
            routerLinkActive="bg-green-600 text-white dark:bg-green-600"
            class="px-3 py-2 rounded-md nav-link"
            >Home</a
          >
        </li>
        <li>
          <a
            routerLink="/products"
            routerLinkActive="bg-green-600 text-white dark:bg-green-600"
            class="px-3 py-2 rounded-md nav-link"
            >Products</a
          >
        </li>
        <li>
          <a
            routerLink="/categories"
            routerLinkActive="bg-green-600 text-white dark:bg-green-600"
            class="px-3 py-2 rounded-md nav-link"
            >Categories</a
          >
        </li>
        <li>
          <a
            routerLink="/brands"
            routerLinkActive="bg-green-600 text-white dark:bg-green-600"
            class="px-3 py-2 rounded-md nav-link"
            >Brands</a
          >
        </li>
      </ul>
      } @else {
      <div
        class="mx-auto hidden md:block text-lg font-semibold text-transparent bg-clip-text bg-gradient-to-l from-green-500 to-teal-400 text-center"
      >
        Welcome to FreshCart
        <i class="fas fa-leaf text-green-500 animate-bounce-slow"></i>
      </div>
      }

      <!-- RIGHT actions -->
      <div class="flex items-center gap-4">
        @if (isLogin()) {
        <a
          routerLink="/wishlist"
          routerLinkActive="text-green-500"
          class="relative nav-icon"
          aria-label="Wishlist"
        >
          <i class="fas fa-heart text-2xl text-gray-700 dark:text-gray-200"></i>
          <span class="badge-counter" aria-live="polite">{{
            countWishlistNumber()
          }}</span>
        </a>

        <a
          routerLink="/cart"
          routerLinkActive="text-green-500"
          class="relative nav-icon"
          aria-label="Cart"
        >
          <i
            class="fas fa-cart-shopping text-2xl text-gray-700 dark:text-gray-200"
          ></i>
          <span class="badge-counter" aria-live="polite">{{
            countCartNumber()
          }}</span>
        </a>

        <button
          type="button"
          (click)="authService.signOut()"
          class="logout-btn"
        >
          Logout
        </button>
        } @else {
        <a
          routerLink="/login"
          routerLinkActive="bg-green-600 text-white dark:bg-green-600"
          class="px-3 py-2 rounded-md nav-link"
          >Login</a
        >
        <a
          routerLink="/register"
          routerLinkActive="bg-green-600 text-white dark:bg-green-600"
          class="px-3 py-2 rounded-md nav-link"
          >Register</a
        >
        }
      </div>
    </div>
  </div>

  <!-- MOBILE DROPDOWN -->
  <div id="navbar-dropdown" class="hidden md:hidden nav-dropdown">
    <div
      class="px-4 pb-4 pt-2 bg-gray-100 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800"
    >
      @if (isLogin()) {
      <ul class="flex flex-col gap-2">
        <li>
          <a routerLink="/home" class="block px-3 py-2 rounded-md nav-link"
            >Home</a
          >
        </li>
        <li>
          <a routerLink="/products" class="block px-3 py-2 rounded-md nav-link"
            >Products</a
          >
        </li>
        <li>
          <a
            routerLink="/categories"
            class="block px-3 py-2 rounded-md nav-link"
            >Categories</a
          >
        </li>
        <li>
          <a routerLink="/brands" class="block px-3 py-2 rounded-md nav-link"
            >Brands</a
          >
        </li>
      </ul>

      <div class="mt-3 flex items-center gap-3">
        <a
          routerLink="/wishlist"
          class="inline-flex items-center gap-2 nav-link"
        >
          <i class="fas fa-heart text-lg"></i>
          <span
            class="badge-counter sm:text-[10px] sm:right-[-3px] sm:top-[-2px]"
            >{{ countWishlistNumber() }}</span
          >
        </a>
        <a routerLink="/cart" class="inline-flex items-center gap-2 nav-link">
          <i class="fas fa-cart-shopping text-lg"></i>
          <span
            class="badge-counter sm:text-[10px] sm:right-[-3px] sm:top-[-2px]"
            >{{ countCartNumber() }}</span
          >
        </a>
      </div>

      <div class="mt-4">
        <button (click)="authService.signOut()" class="w-full logout-btn">
          Logout
        </button>
      </div>
      } @else {
      <ul class="flex flex-col gap-2">
        <li>
          <a routerLink="/login" class="block px-3 py-2 rounded-md nav-link"
            >Login</a
          >
        </li>
        <li>
          <a routerLink="/register" class="block px-3 py-2 rounded-md nav-link"
            >Register</a
          >
        </li>
      </ul>

      <div class="mt-3 flex items-center gap-3">
        <a
          href="https://facebook.com"
          target="_blank"
          rel="noopener noreferrer"
          class="p-2 rounded-md nav-link"
          ><i class="fab fa-facebook text-lg"></i
        ></a>
        <a
          href="https://twitter.com"
          target="_blank"
          rel="noopener noreferrer"
          class="p-2 rounded-md nav-link"
          ><i class="fab fa-x-twitter text-lg"></i
        ></a>
        <a
          href="https://tiktok.com"
          target="_blank"
          rel="noopener noreferrer"
          class="p-2 rounded-md nav-link"
          ><i class="fab fa-tiktok text-lg"></i
        ></a>
      </div>
      }
    </div>
  </div>
</nav>
